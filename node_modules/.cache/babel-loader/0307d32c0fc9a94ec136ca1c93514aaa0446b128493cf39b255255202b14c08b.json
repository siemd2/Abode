{"ast":null,"code":"var _jsxFileName = \"/Users/zacharyren/Desktop/Abode/src/auth.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { eventWrapper } from \"@testing-library/user-event/dist/utils\";\nimport { supabase } from \"./supabase\";\nimport { useState, useEffect, useContext, createContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst authContext = /*#__PURE__*/createContext();\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const auth = useProvideAuth();\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: auth,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 12\n  }, this);\n};\n_s(AuthProvider, \"XNU4Jn8u4aVzJknlKOHFJq03xMo=\", false, function () {\n  return [useProvideAuth];\n});\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  return useContext(authContext);\n};\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nfunction useProvideAuth() {\n  _s3();\n  const [user, setUser] = useState(null);\n  const login = async email => {\n    const {\n      error,\n      user\n    } = await supabase.auth.signInWithPassword({\n      email\n    });\n    if (error) {\n      console.log(error);\n    }\n    return {\n      error,\n      user\n    };\n  };\n  const logout = async () => {\n    const {\n      error\n    } = await supabase.auth.signOut();\n    if (error) {\n      console.log(error);\n    }\n    setUser(null);\n  };\n  useEffect(() => {\n    const user = supabase.auth.user();\n    setUser(user);\n    const auth = supabase.auth.onAuthStateChange((event, session) => {\n      if (event === 'SIGNED_IN') {\n        setUser(session.user);\n      }\n      if (event === 'SIGNED_OUT') {\n        setUser(null);\n      }\n    });\n    return () => auth.unsubscribe();\n  }, []);\n  return {\n    user,\n    login,\n    logout\n  };\n}\n_s3(useProvideAuth, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["eventWrapper","supabase","useState","useEffect","useContext","createContext","jsxDEV","_jsxDEV","authContext","AuthProvider","children","_s","auth","useProvideAuth","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","_s3","user","setUser","login","email","error","signInWithPassword","console","log","logout","signOut","onAuthStateChange","event","session","unsubscribe","$RefreshReg$"],"sources":["/Users/zacharyren/Desktop/Abode/src/auth.js"],"sourcesContent":["import { eventWrapper } from \"@testing-library/user-event/dist/utils\";\nimport { supabase } from \"./supabase\";\nimport { useState,useEffect,useContext,createContext } from \"react\";\n\nconst authContext = createContext();\n\nexport const AuthProvider = ({children}) => {\n    const auth = useProvideAuth()\n    return <authContext.Provider value={auth}>{children}</authContext.Provider>\n}\n\nexport const useAuth = () => {\n    return useContext(authContext)\n}\n\nfunction useProvideAuth() {\n    const [user, setUser] = useState(null)\n\n    const login = async (email) => {\n        const {error, user} = await supabase.auth.signInWithPassword({email})\n        \n        if (error) {\n            console.log(error)\n        }\n        return {error, user}\n    }\n\n    const logout = async () => {\n        const {error} = await supabase.auth.signOut()\n        if(error) {\n            console.log(error)\n        }\n        setUser(null)\n    }\n    useEffect(() => {\n        const user = supabase.auth.user()\n        setUser(user)\n        const auth = supabase.auth.onAuthStateChange((event, session) => {\n            if (event === 'SIGNED_IN') {\n                setUser(session.user)\n            }\n            if (event === 'SIGNED_OUT') {\n                setUser(null)\n            }\n        })\n        return() => auth.unsubscribe()\n    }, [])\n\n    return {\n        user,\n        login,\n        logout\n    }\n}"],"mappings":";;;;AAAA,SAASA,YAAY,QAAQ,wCAAwC;AACrE,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,QAAQ,EAACC,SAAS,EAACC,UAAU,EAACC,aAAa,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpE,MAAMC,WAAW,gBAAGH,aAAa,CAAC,CAAC;AAEnC,OAAO,MAAMI,YAAY,GAAGA,CAAC;EAACC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAMC,IAAI,GAAGC,cAAc,CAAC,CAAC;EAC7B,oBAAON,OAAA,CAACC,WAAW,CAACM,QAAQ;IAACC,KAAK,EAAEH,IAAK;IAAAF,QAAA,EAAEA;EAAQ;IAAAM,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAuB,CAAC;AAC/E,CAAC;AAAAR,EAAA,CAHYF,YAAY;EAAA,QACRI,cAAc;AAAA;AAAAO,EAAA,GADlBX,YAAY;AAKzB,OAAO,MAAMY,OAAO,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACzB,OAAOlB,UAAU,CAACI,WAAW,CAAC;AAClC,CAAC;AAAAc,GAAA,CAFYD,OAAO;AAIpB,SAASR,cAAcA,CAAA,EAAG;EAAAU,GAAA;EACtB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAMwB,KAAK,GAAG,MAAOC,KAAK,IAAK;IAC3B,MAAM;MAACC,KAAK;MAAEJ;IAAI,CAAC,GAAG,MAAMvB,QAAQ,CAACW,IAAI,CAACiB,kBAAkB,CAAC;MAACF;IAAK,CAAC,CAAC;IAErE,IAAIC,KAAK,EAAE;MACPE,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IACtB;IACA,OAAO;MAACA,KAAK;MAAEJ;IAAI,CAAC;EACxB,CAAC;EAED,MAAMQ,MAAM,GAAG,MAAAA,CAAA,KAAY;IACvB,MAAM;MAACJ;IAAK,CAAC,GAAG,MAAM3B,QAAQ,CAACW,IAAI,CAACqB,OAAO,CAAC,CAAC;IAC7C,IAAGL,KAAK,EAAE;MACNE,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IACtB;IACAH,OAAO,CAAC,IAAI,CAAC;EACjB,CAAC;EACDtB,SAAS,CAAC,MAAM;IACZ,MAAMqB,IAAI,GAAGvB,QAAQ,CAACW,IAAI,CAACY,IAAI,CAAC,CAAC;IACjCC,OAAO,CAACD,IAAI,CAAC;IACb,MAAMZ,IAAI,GAAGX,QAAQ,CAACW,IAAI,CAACsB,iBAAiB,CAAC,CAACC,KAAK,EAAEC,OAAO,KAAK;MAC7D,IAAID,KAAK,KAAK,WAAW,EAAE;QACvBV,OAAO,CAACW,OAAO,CAACZ,IAAI,CAAC;MACzB;MACA,IAAIW,KAAK,KAAK,YAAY,EAAE;QACxBV,OAAO,CAAC,IAAI,CAAC;MACjB;IACJ,CAAC,CAAC;IACF,OAAM,MAAMb,IAAI,CAACyB,WAAW,CAAC,CAAC;EAClC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACHb,IAAI;IACJE,KAAK;IACLM;EACJ,CAAC;AACL;AAACT,GAAA,CAtCQV,cAAc;AAAA,IAAAO,EAAA;AAAAkB,YAAA,CAAAlB,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}